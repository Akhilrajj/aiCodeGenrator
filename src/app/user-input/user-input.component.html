<div class="container mt-4">
  <form [formGroup]="queryForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="query" class="form-label">Enter your coding problem:</label>
      <textarea
        id="query"
        formControlName="query"
        class="form-control"
        rows="5"
        [disabled]="loading"
      ></textarea>

      <div *ngIf="queryForm.get('query')?.invalid && (queryForm.get('query')?.dirty || queryForm.get('query')?.touched)" class="alert alert-danger mt-2">
        <div *ngIf="queryForm.get('query')?.errors?.['required']">
          This field is required.
        </div>
        <div *ngIf="queryForm.get('query')?.errors?.['minlength']">
          Must be at least 10 characters long.
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="queryForm.invalid || loading">
      {{ loading ? 'Generating...' : 'Generate Snippet' }}
    </button>
  </form>

  <!-- Optional Loader Component -->
  <app-loader [loading]="loading"></app-loader>
</div>
